{"version":3,"sources":["firebase.js","Login.js","Dashboard.js","App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","logInWithEmailAndPassword","getFirestore","GoogleAuthProvider","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","email","password","wrap","_context2","prev","next","signInWithEmailAndPassword","t0","console","error","alert","message","stop","_x","_x2","apply","arguments","logout","signOut","Login","_useState","useState","_useState2","_slicedToArray","setEmail","_useState3","_useState4","setPassword","_useAuthState","useAuthState","_useAuthState2","user","loading","navigate","useNavigate","useEffect","_jsx","className","children","_jsxs","type","value","onChange","e","target","placeholder","onClick","Dashboard","_weather$current","_weather$current$cond","_weather$current2","_weather$current3","_weather$current4","_weather$location","weather","setWeather","fetchColomboWeather","_ref","_callee","_context","fetch","method","headers","then","res","json","data","log","catch","err","current","condition","text","temp_c","wind_kph","humidity","location","localtime","App","Router","Routes","Route","exact","path","element","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"6TA6BMA,EAAMC,YAVW,CACrBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIXC,EAAOC,YAAQV,GAyBfW,GAxBKC,YAAaZ,GAED,IAAIa,IAsBI,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAOC,EAAOC,GAAQ,OAAAJ,cAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE9CC,YAA2BhB,EAAMU,EAAOC,GAAU,KAAD,EAAAE,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAI,GAAAJ,EAAA,SAEvDK,QAAQC,MAAKN,EAAAI,IACbG,MAAMP,EAAAI,GAAII,SAAS,wBAAAR,EAAAS,OAAA,GAAAb,EAAA,kBAEtB,gBAP8Bc,EAAAC,GAAA,OAAAnB,EAAAoB,MAAA,KAAAC,UAAA,MAmCzBC,EAAS,WACbC,YAAQ5B,EACV,E,wBC5Ce6B,MA1Cf,WACE,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/BpB,EAAKsB,EAAA,GAAEE,EAAQF,EAAA,GACtBG,EAAgCJ,mBAAS,IAAGK,EAAAH,YAAAE,EAAA,GAArCxB,EAAQyB,EAAA,GAAEC,EAAWD,EAAA,GAC5BE,EAA+BC,YAAavC,GAAKwC,EAAAP,YAAAK,EAAA,GAA1CG,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,GADqBH,EAAA,GACVI,eAUjB,OARAC,qBAAU,WACJH,GAIAD,GAAME,EAAS,aACrB,GAAG,CAACF,EAAMC,IAGRI,cAAA,OAAKC,UAAU,QAAOC,SACpBC,eAAA,OAAKF,UAAU,mBAAkBC,SAAA,CAC/BF,cAAA,SACEI,KAAK,OACLH,UAAU,iBACVI,MAAOzC,EACP0C,SAAU,SAACC,GAAC,OAAKnB,EAASmB,EAAEC,OAAOH,MAAM,EACzCI,YAAY,mBAEdT,cAAA,SACEI,KAAK,WACLH,UAAU,iBACVI,MAAOxC,EACPyC,SAAU,SAACC,GAAC,OAAKhB,EAAYgB,EAAEC,OAAOH,MAAM,EAC5CI,YAAY,aAEdT,cAAA,UACEC,UAAU,aACVS,QAAS,kBAAMtD,EAA0BQ,EAAOC,EAAS,EAACqC,SAC3D,cAMT,E,MCWeS,MApDf,WAAsB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACnBzB,EAAmBC,YAAavC,GAAzB0C,EAA8BT,YAAAK,EAAA,GAAvB,GACdR,EAA8BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAnCkC,EAAOhC,EAAA,GAAEiC,EAAUjC,EAAA,GAEpBkC,EAAmB,eAAAC,EAAA7D,YAAAC,cAAAC,MAAG,SAAA4D,IAAA,OAAA7D,cAAAK,MAAA,SAAAyD,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,OAEd,wEAUNuD,MAVM,wEAEI,CACdC,OAAQ,MACRC,QAAS,CACP,iBAAkB,qDAClB,kBAAmB,mCAKbC,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GACJ1D,QAAQ2D,IAAID,GACZX,EAAWW,EACd,IACCE,OAAM,SAACC,GACL7D,QAAQ2D,IAAIE,EAAI1D,QACnB,IAAG,wBAAAgD,EAAA/C,OAAA,GAAA8C,EAAA,KACf,kBArB0B,OAAAD,EAAA1C,MAAA,KAAAC,UAAA,KA8BzB,OALAmB,qBAAU,WACJH,GACJwB,GACF,GAAG,CAACxB,IAGFI,cAAA,OAAKC,UAAU,YAAWC,SACxBC,eAAA,OAAKF,UAAU,uBAAsBC,SAAA,CACnCF,cAAA,MAAAE,SAAI,oBACJC,eAAA,OAAAD,SAAA,CAAK,eAAoB,OAAPgB,QAAO,IAAPA,GAAgB,QAATN,EAAPM,EAASgB,eAAO,IAAAtB,GAAW,QAAXC,EAAhBD,EAAkBuB,iBAAS,IAAAtB,OAApB,EAAPA,EAA6BuB,QAC/CjC,eAAA,OAAAD,SAAA,CAAK,oBAAyB,OAAPgB,QAAO,IAAPA,GAAgB,QAATJ,EAAPI,EAASgB,eAAO,IAAApB,OAAT,EAAPA,EAAkBuB,UACzClC,eAAA,OAAAD,SAAA,CAAK,gBAAqB,OAAPgB,QAAO,IAAPA,GAAgB,QAATH,EAAPG,EAASgB,eAAO,IAAAnB,OAAT,EAAPA,EAAkBuB,YACrCnC,eAAA,OAAAD,SAAA,CAAK,cAAmB,OAAPgB,QAAO,IAAPA,GAAgB,QAATF,EAAPE,EAASgB,eAAO,IAAAlB,OAAT,EAAPA,EAAkBuB,YACnCpC,eAAA,OAAAD,SAAA,CAAK,UAAe,OAAPgB,QAAO,IAAPA,GAAiB,QAAVD,EAAPC,EAASsB,gBAAQ,IAAAvB,OAAV,EAAPA,EAAmBwB,aAChCzC,cAAA,UACAA,cAAA,UAAQC,UAAU,iBAAiBS,QAAS7B,EAAOqB,SAAC,eAM5D,ECrCewC,MAbf,WACE,OACE1C,cAAA,OAAKC,UAAU,MAAKC,SAClBF,cAAC2C,IAAM,CAAAzC,SACLC,eAACyC,IAAM,CAAA1C,SAAA,CACLF,cAAC6C,IAAK,CAACC,OAAK,EAACC,KAAK,IAAIC,QAAShD,cAACjB,EAAK,MACrCiB,cAAC6C,IAAK,CAACC,OAAK,EAACC,KAAK,aAAaC,QAAShD,cAACW,EAAS,YAK5D,ECXAsC,IAASC,OACPlD,cAACmD,IAAMC,WAAU,CAAAlD,SACfF,cAAC0C,EAAG,MAENW,SAASC,eAAe,Q","file":"static/js/main.e6b98a3c.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  GoogleAuthProvider,\r\n  getAuth,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  sendPasswordResetEmail,\r\n  signOut,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  query,\r\n  getDocs,\r\n  collection,\r\n  where,\r\n  addDoc,\r\n} from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAMfQhX6wmkk8RqEJL3voMkzX24lMeUK_8\",\r\n  authDomain: \"fir-auth-d3bd0.firebaseapp.com\",\r\n  projectId: \"fir-auth-d3bd0\",\r\n  storageBucket: \"fir-auth-d3bd0.appspot.com\",\r\n  messagingSenderId: \"434572771653\",\r\n  appId: \"1:434572771653:web:ff598af2ee1d0084843e2c\",\r\n  measurementId: \"G-N08PQCSK9B\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\nconst signInWithGoogle = async () => {\r\n  try {\r\n    const res = await signInWithPopup(auth, googleProvider);\r\n    const user = res.user;\r\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\r\n    const docs = await getDocs(q);\r\n    if (docs.docs.length === 0) {\r\n      await addDoc(collection(db, \"users\"), {\r\n        uid: user.uid,\r\n        name: user.displayName,\r\n        authProvider: \"google\",\r\n        email: user.email,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nconst logInWithEmailAndPassword = async (email, password) => {\r\n  try {\r\n    await signInWithEmailAndPassword(auth, email, password);\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nconst registerWithEmailAndPassword = async (name, email, password) => {\r\n  try {\r\n    const res = await createUserWithEmailAndPassword(auth, email, password);\r\n    const user = res.user;\r\n    await addDoc(collection(db, \"users\"), {\r\n      uid: user.uid,\r\n      name,\r\n      authProvider: \"local\",\r\n      email,\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nconst sendPasswordReset = async (email) => {\r\n  try {\r\n    await sendPasswordResetEmail(auth, email);\r\n    alert(\"Password reset link sent!\");\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nconst logout = () => {\r\n  signOut(auth);\r\n};\r\n\r\nexport {\r\n  auth,\r\n  db,\r\n  signInWithGoogle,\r\n  logInWithEmailAndPassword,\r\n  registerWithEmailAndPassword,\r\n  sendPasswordReset,\r\n  logout,\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { auth, logInWithEmailAndPassword } from \"./firebase\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, loading, error] = useAuthState(auth);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      // maybe trigger a loading screen\r\n      return;\r\n    }\r\n    if (user) navigate(\"/dashboard\");\r\n  }, [user, loading]);\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"login__textBox\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          placeholder=\"E-mail Address\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"login__textBox\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Password\"\r\n        />\r\n        <button\r\n          className=\"login__btn\"\r\n          onClick={() => logInWithEmailAndPassword(email, password)}\r\n        >\r\n          Login\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import React, { useEffect, useState } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport \"./Dashboard.css\";\r\nimport { auth, logout } from \"./firebase\";\r\n\r\nfunction Dashboard() {\r\n  const [loading ] = useAuthState(auth);\r\n  const [weather, setWeather] = useState([]);\r\n\r\n  const fetchColomboWeather = async () => {\r\n\r\n    const url = 'https://weatherapi-com.p.rapidapi.com/current.json?q=6.9271%2C79.8612';\r\n\r\n    const options = {\r\n      method: 'GET',\r\n      headers: {\r\n        'X-RapidAPI-Key': 'dd492a5d5emsh560d82943d77095p13179cjsnfd8cc1d8226e',\r\n        'X-RapidAPI-Host': 'weatherapi-com.p.rapidapi.com'\r\n      }\r\n    };\r\n\r\n          fetch(url,options)\r\n             .then((res) => res.json())\r\n             .then((data) => {\r\n                console.log(data);\r\n                setWeather(data);\r\n             })\r\n             .catch((err) => {\r\n                console.log(err.message);\r\n             });\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (loading) return;\r\n    fetchColomboWeather();\r\n  }, [loading]);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboard__container\">\r\n        <h2>Colombo Weather</h2>\r\n        <div>Condition : {weather?.current?.condition?.text}</div>\r\n        <div>Temp (Celsius) : {weather?.current?.temp_c}</div>\r\n        <div>Wind (KPH) : {weather?.current?.wind_kph}</div>\r\n        <div>Humidity : {weather?.current?.humidity}</div>\r\n        <div>Time : {weather?.location?.localtime}</div>\r\n        <div></div>\r\n        <button className=\"dashboard__btn\" onClick={logout}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;","import \"./App.css\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Dashboard from \"./Dashboard\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Routes>\n          <Route exact path=\"/\" element={<Login />} />\n          <Route exact path=\"/dashboard\" element={<Dashboard />} />\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}